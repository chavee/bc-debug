var Alloy=require("/alloy"),
Backbone=Alloy.Backbone,
_=Alloy._;




function __processArg(obj,key){
var arg=null;



return obj&&(arg=obj[key]||null),arg;
}

function Controller(){var _Mathfloor=
















































































































































































































































































Math.floor;function resetStateBeacon(){Ti.App.Properties.setString("inetBeaconData_major",null),Ti.App.Properties.setString("inetBeaconData_minor",null),Ti.App.Properties.setString("inetBeaconData_uuid",null)}function setStateBeacon(uuid,minor,major){Ti.App.Properties.setString("inetBeaconData_major",major),Ti.App.Properties.setString("inetBeaconData_minor",minor),Ti.App.Properties.setString("inetBeaconData_uuid",uuid)}function isSameStateBefore(uuid,minor,major){return uuid==Ti.App.Properties.getString("inetBeaconData_uuid")&&major==Ti.App.Properties.getString("inetBeaconData_major")&&minor==Ti.App.Properties.getString("inetBeaconData_minor")}function isInterestedRegion(rssi){tag="isInterestRegion:";let min_rssi=-96;return!(-96>=rssi)}function beaconStartScan(){if(resetStateBeacon(),!0){var permissions=["android.permission.ACCESS_FINE_LOCATION"];Ti.Android.requestPermissions(permissions,function(e){e.success?console.log("allow location success"):console.log("not allow location")}),console.log("after check perm:",_Mathfloor(Date.now()));


var isEnterRegion=!1;
androidEntered=function(e){
let tag="androidEntered:";
console.log("androidEntered:","entered region identifer: "+e.identifier),
console.log("androidEntered:",e),
isEnterRegion=!0,
alert("androidEntered:Enter");


},


androidBeaconProximityCallback=function(e){
let tag="proxCallback:";
if(isEnterRegion){












if(console.log(tag,"identifer: "+e.identifier),console.log(tag,"uuid: "+e.uuid),console.log(tag,"major: "+e.major),console.log(tag,"minor: "+e.minor),console.log(tag,"proximity: "+e.proximity),console.log(tag,"accuracy: "+e.accuracy),console.log(tag,"rssi: "+e.rssi),console.log(tag,"power: "+e.power),!isInterestedRegion(e.rssi))



return console.log("Too far..."),void alert("Too far...rssi:"+e.rssi);


if(isSameStateBefore(e.uuid,e.major,e.minor))


return console.log(tag,"Same beacon"),void(isConfirmExit=!1);


setStateBeacon(e.uuid,e.major,e.minor),






isEnterRegion=!1;
}
};var


handle=null,
isConfirmExit=!1;
androidExited=function(e){



if(isConfirmExit=!0,console.log("exited region identifer: "+e.identifier),null!==Ti.App.Properties.getString("inetBeaconData_uuid")&&null==handle){
var countExit=0;
handle=setInterval(function(){























return console.log("isConfirmExit: "+isConfirmExit),60<countExit&&isConfirmExit?(alert("Exit uuid: "+Ti.App.Properties.getString("inetBeaconData_uuid")+"  Major: "+Ti.App.Properties.getString("inetBeaconData_major")+"  Minor: "+Ti.App.Properties.getString("inetBeaconData_minor")),resetStateBeacon(),clearInterval(handle),handle=null,console.log("it's really exit "+handle)):!isConfirmExit&&(clearInterval(handle),handle=null,console.log("it's not exit "+handle)),countExit++,void console.log("count: "+countExit);
},1e3);
}
},

androidBindingCallback=function(e){
tag="androidBindingCallback: ",
console.log(tag,e);
};

var inBeconRange=function(e){
var tag="beaconRanges: ";
console.log("beaconRanges: ","I am in the "+e.identifier+" region"),
console.log("beaconRanges: ","I see "+e.beacons.length+" beacons in this region:"),
console.log("beaconRanges: ","----------------"),
e.beacons.forEach(function(beacon,index){


console.log("beaconRanges: ","Beacon number: "+index),
console.log("beaconRanges: ","uuid: "+beacon.uuid),
console.log("beaconRanges: ","major: "+beacon.major),
console.log("beaconRanges: ","minor: "+beacon.minor),
console.log("beaconRanges: ","proximity: "+beacon.proximity),
console.log("beaconRanges: ","accuracy: "+beacon.accuracy),
console.log("beaconRanges: ","rssi: "+beacon.rssi),
console.log("beaconRanges: ","power: "+beacon.power),
console.log("----------------");

var beacon_key=beacon.major+"-"+beacon.minor;
beacon_key in global_beacons?

console.log(beacon_key+" beacon was recorded"):



isInterestedRegion(beacon.rssi)?(

console.log("beaconRanges: ","call location api"),
global_beacons[beacon_key]={
major:beacon.major,
minor:beacon.minor,
rssi:beacon.rssi,
location:"\u0E01\u0E33\u0E25\u0E31\u0E07\u0E04\u0E49\u0E19\u0E2B\u0E32\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07",
isRegitered:!1,
ts:new Date().getTime()},


getLocation(beacon.major,beacon.minor,beacon_key)):



console.log("Not interesed region.");


});
};

BLE.addEventListener("beaconRanges",inBeconRange);

var regionState=function(e){
var tag="regionState: ";
console.log("regionState: ","identifer: "+e.regionState);
};

BLE.addEventListener("enteredRegion",androidEntered),
BLE.addEventListener("exitedRegion",androidExited),
BLE.addEventListener("beaconProximity",androidBeaconProximityCallback),
BLE.addEventListener("onIBeaconServiceConnect",androidBindingCallback),

BLE.addEventListener("determinedRegionState",regionState),

console.log("add evnt complete:",_Mathfloor(Date.now()));var







when_ready,
not_ready_count=0;

BLE.bindBeaconService(),

when_ready=setInterval(function(){return(
BLE.isReady()?(







Ti.API.info("Try",not_ready_count,"time, ","Okay! Module is ready!"),


BLE.checkAvailability()?void(





BLE.setBackgroundMode(!1),
BLE.setScanPeriods({
foregroundScanPeriod:5e3,
foregroundBetweenScanPeriod:200,
backgroundScanPeriod:5e3,
backgroundBetweenScanPeriod:200}),


BLE.startMonitoringForRegion({
identifier:beaconIdentifier,
uuid:beaconUUID}),


clearInterval(when_ready),
when_ready=null):void alert("It's not support in your device!")):(console.log("not_ready_count=",not_ready_count),console.log("BLE Not ready"),void not_ready_count++));
},1e3);

var monit;

monit=setInterval(function(){

if(!1)


return console.log("App in background. Stop scan."),void BLE.stopScan();

});


}else if(iosDidChangeAuthorization=(e)=>{switch(Ti.API.info("didChangeAuthorization"),e.state){case BLE.LOCATION_MANAGER_AUTHORIZATION_STATUS_AUTHORIZED_ALWAYS:alert("Manager authorization is always");break;case BLE.LOCATION_MANAGER_AUTHORIZATION_STATUS_AUTHORIZED_WHEN_IN_USE:alert("Manager authorization is when in use");break;case BLE.LOCATION_MANAGER_AUTHORIZATION_STATUS_DENIED:alert("Manager authorization is denied");break;case BLE.LOCATION_MANAGER_AUTHORIZATION_STATUS_NOT_DETERMINED:alert("Manager authorization is not determined");break;case BLE.LOCATION_MANAGER_AUTHORIZATION_STATUS_RESTRICTED:alert("Manager authorization is powered restricted");break;default:alert("Unknown");}},iosDidRangeBeacons=(e)=>{Ti.API.info("didRangeBeacons");var becaons=e.beacons;if(0===becaons.length)return console.log("No beacon in range"),void(null!==Ti.App.Properties.getString("inetBeaconData_uuid")&&(alert("Exit uuid: "+Ti.App.Properties.getString("inetBeaconData_uuid")+"  Major: "+Ti.App.Properties.getString("inetBeaconData_major")+"  Minor: "+Ti.App.Properties.getString("inetBeaconData_minor")),resetStateBeacon()));var proximity=becaons[0].proximity,accuracy=becaons[0].accuracy,major=becaons[0].major,minor=becaons[0].minor,haveCase=!0;(isInterestedRegion(proximity)||console.log("Too far..."),!isSameStateBefore(e.region.uuid,major,minor))&&(proximity===BLE.BEACON_PROXIMITY_UNKNOWN?alert("Beacon Location : UNKNOWN"):proximity===BLE.BEACON_PROXIMITY_IMMEDIATE?(setStateBeacon(e.region.uuid,major,minor),console.log(e.region.uuid+" Major: "+major+" Minor: "+minor),alert("IMMEDIATE uuid: "+e.region.uuid+"  Major: "+major+"  Minor: "+minor+"  Approx: "+accuracy+"m)")):proximity===BLE.BEACON_PROXIMITY_NEAR?(setStateBeacon(e.region.uuid,major,minor),console.log(e.region.uuid+" Major: "+major+" Minor: "+minor),alert("NEAR uuid: "+e.region.uuid+"  Major: "+major+"  Minor: "+minor+"  Approx: "+accuracy+"m)")):proximity===BLE.BEACON_PROXIMITY_FAR?(setStateBeacon(e.region.uuid,major,minor),console.log(e.region.uuid+" Major: "+major+" Minor: "+minor),alert("FAR uuid: "+e.region.uuid+"  Major: "+major+"  Minor: "+minor+"  Approx: "+accuracy+"m)")):(haveCase=!1,alert("Beacon Location : UNKNOWN")),haveCase)},null===manager){manager=BLE.createRegionManager(),manager.addEventListener("didChangeAuthorization",iosDidChangeAuthorization),manager.addEventListener("didRangeBeacons",iosDidRangeBeacons);var beaconRegion=BLE.createBeaconRegion({uuid:beaconUUID,identifier:beaconIdentifier});manager.startRegionMonitoring({beaconRegion:beaconRegion}),manager.startRangingBeaconsInRegion({beaconRegion:beaconRegion})}
}

function beaconStopScan(){
resetStateBeacon(),1?(







BLE.stopMonitoringAllRegions(),
BLE.removeEventListener("enteredRegion",androidEntered),
BLE.removeEventListener("exitedRegion",androidExited),
BLE.removeEventListener("beaconProximity",androidBeaconProximityCallback)):(manager.removeEventListener("didChangeAuthorization",iosDidChangeAuthorization),manager.removeEventListener("didRangeBeacons",iosDidRangeBeacons));

}

function putApi(major,minor){
var xhr=Ti.Network.createHTTPClient();
xhr.onload=function(e){
console.log(this.status),
console.log(this.responseText);
},
xhr.onerror=function(e){
console.log(this.status),
console.log(this.responseText);
},
xhr.timeout=1e4,

xhr.open("PUT","https://beacon-track.inet.co.th"),
xhr.setRequestHeader("X-API-KEY","RvBmll9opEnVZ3aBH6wygN7VXKr7DIYw"),
xhr.setRequestHeader("content-type","application/json");
var params={
uid:Ti.App.Properties.getString("inetBeaconData_cid"),
major:major,
minor:minor};

xhr.send(JSON.stringify(params));
}


function getLocation(this_major,this_minor,this_key){
tag="getLocation: ";var
xhr=Ti.Network.createHTTPClient(),

my_loc_code=md5_hash(`b1cf4b7ec203:1:${this_major}:${this_minor}`);
console.log(tag+"my_hash: "+my_loc_code+" major:"+this_major+" minor:"+this_minor),

xhr.onload=function(e){
var res_json={};
console.log(tag,this.status),
console.log(tag,this.responseText),
alert(tag+this.responseText),
res_json=JSON.parse(this.responseText),
global_beacons[this_key].isRegitered=!0,


global_beacons[this_key].location="site_name"in res_json?res_json.site_name:



"-",

"location_name"in res_json&&(

global_beacons[this_key].location=global_beacons[this_key].location+" "+res_json[this_key].location_name);

},
xhr.onerror=function(e){
console.log(tag,this.status),
console.log(tag,this.responseText),


global_beacons[this_key].location=(this.status=404)?"\u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07\u0E43\u0E19\u0E23\u0E30\u0E1A\u0E1A":



"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E25\u0E2D\u0E07\u0E43\u0E2B\u0E21\u0E48";

},
xhr.timeout=1e4,
xhr.open("GET","https://beacon-track.inet.co.th/beaconinfo?code="+my_loc_code),
xhr.setRequestHeader("content-type","application/json"),
xhr.send();
}

function getLocationList()
{
return global_beacons;
}

function BLEScan(){
if(!1)

console.log("IOS");else


{

if(console.log("Android"),centralManager.isScanning())

return void console.log("Already scanning, please stop scan first!");


var gatt_handle;
gatt_handle=setInterval(function(e){return(
centralManager.didUpdateState==BLE.MANAGER_STATE_POWERED_ON?void(




centralManager.getState()!=BLE.MANAGER_STATE_POWERED_ON&&

console.log("BLE manager needs to be powered on before. Call initialize()."),


console.log("BLE.MANAGER_STATE_POWERED_ON"),

centralManager.startScan(),
console.log("Start BLE"),
clearInterval(gatt_handle),
gatt_handle=null):void console.log("didState=",centralManager.didUpdateState));
},1e3);
}
}













function stopBLE(){
centralManager.isScanning?(
console.log("Stop BLE"),
centralManager.stopScan()):


console.log("No scan session!");

}

function md5_hash(hash_seed){var
tag="md5_hash",
my_md5=Ti.Utils.md5HexDigest(hash_seed);

return alert("md5_hash: "+my_md5),my_md5;
}if(require("/alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="inet_beacon/beacon_backup",this.args=arguments[0]||{},arguments[0])var __parentSymbol=__processArg(arguments[0],"__parentSymbol"),$model=__processArg(arguments[0],"$model"),__itemTemplate=__processArg(arguments[0],"__itemTemplate");var $=this,exports={},__defers={};exports.destroy=function(){},_.extend($,$.__views);let beaconUUID="5991e161-bb46-432f-9bd8-b271f76f67d9",beaconIdentifier="Morprom",global_beacons={};Ti.App.Properties.setString("f_beacon",""),console.log("begin:",_Mathfloor(Date.now()));var BLE=null,GATT=null,centralManager=null,isForeground=!0;1?(BLE=require("com.liferay.beacons"),GATT=require("ti.bluetooth"),centralManager=GATT.createCentralManager()):BLE=require("appcelerator.ble"),console.log("after lode lib:",_Mathfloor(Date.now()));var manager=null,iosDidRangeBeacons=null,iosDidChangeAuthorization=null,androidEntered=null,androidExited=null,androidBeaconProximityCallback=null,gattDidDiscover=function(e){Ti.API.info("didDiscoverPeripheral"),Ti.API.info(e.peripheral.uuids.uuid,"Address:",e.peripheral.address,e.peripheral.name)};centralManager.addEventListener("didDiscoverPeripheral",gattDidDiscover),

exports.beaconStartScan=beaconStartScan,
exports.beaconStopScan=beaconStopScan,
exports.putApi=putApi,
exports.BLEScan=BLEScan,
exports.stopBLE=stopBLE,
exports.md5_hash=md5_hash,
exports.getLocationList=getLocationList,









_.extend($,exports);
}

module.exports=Controller;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlbXBsYXRlLmpzIiwiYmVhY29uX2JhY2t1cC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxHQUFBLENBQUEsS0FBQSxDQUFBLE9BQUEsQ0FBQSxRQUFBLENBQUE7QUFDQSxRQUFBLENBQUEsS0FBQSxDQUFBLFFBREE7QUFFQSxDQUFBLENBQUEsS0FBQSxDQUFBLENBRkE7Ozs7O0FBT0EsUUFBQSxDQUFBLFlBQUEsQ0FBQSxHQUFBLENBQUEsR0FBQSxDQUFBO0FBQ0EsR0FBQSxDQUFBLEdBQUEsQ0FBQSxJQUFBOzs7O0FBSUEsTUFIQSxDQUFBLEdBR0EsR0FGQSxHQUFBLENBQUEsR0FBQSxDQUFBLEdBQUEsQ0FBQSxFQUFBLElBRUEsRUFBQSxHQUFBO0FBQ0E7O0FBRUEsUUFBQSxDQUFBLFVBQUEsRUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcU9BLElBQUEsQ0FBQSxLRHJPQSxDQ1RBLFFBQUEsQ0FBQSxnQkFBQSxFQUFBLENBQ0EsRUFBQSxDQUFBLEdBQUEsQ0FBQSxVQUFBLENBQUEsU0FBQSxDQUFBLHNCQUFBLENBQUEsSUFBQSxDQURBLENBRUEsRUFBQSxDQUFBLEdBQUEsQ0FBQSxVQUFBLENBQUEsU0FBQSxDQUFBLHNCQUFBLENBQUEsSUFBQSxDQUZBLENBR0EsRUFBQSxDQUFBLEdBQUEsQ0FBQSxVQUFBLENBQUEsU0FBQSxDQUFBLHFCQUFBLENBQUEsSUFBQSxDQUNBLENBQ0EsUUFBQSxDQUFBLGNBQUEsQ0FBQSxJQUFBLENBQUEsS0FBQSxDQUFBLEtBQUEsQ0FBQSxDQUNBLEVBQUEsQ0FBQSxHQUFBLENBQUEsVUFBQSxDQUFBLFNBQUEsQ0FBQSxzQkFBQSxDQUFBLEtBQUEsQ0FEQSxDQUVBLEVBQUEsQ0FBQSxHQUFBLENBQUEsVUFBQSxDQUFBLFNBQUEsQ0FBQSxzQkFBQSxDQUFBLEtBQUEsQ0FGQSxDQUdBLEVBQUEsQ0FBQSxHQUFBLENBQUEsVUFBQSxDQUFBLFNBQUEsQ0FBQSxxQkFBQSxDQUFBLElBQUEsQ0FDQSxDQUNBLFFBQUEsQ0FBQSxpQkFBQSxDQUFBLElBQUEsQ0FBQSxLQUFBLENBQUEsS0FBQSxDQUFBLE9BRUEsQ0FBQSxJQUFBLEVBQUEsRUFBQSxDQUFBLEdBQUEsQ0FBQSxVQUFBLENBQUEsU0FBQSxDQUFBLHFCQUFBLENBQUEsRUFDQSxLQUFBLEVBQUEsRUFBQSxDQUFBLEdBQUEsQ0FBQSxVQUFBLENBQUEsU0FBQSxDQUFBLHNCQUFBLENBREEsRUFFQSxLQUFBLEVBQUEsRUFBQSxDQUFBLEdBQUEsQ0FBQSxVQUFBLENBQUEsU0FBQSxDQUFBLHNCQUFBLENBS0EsQ0FtQkEsUUFBQSxDQUFBLGtCQUFBLENBQUEsSUFBQSxDQUNBLENBQ0EsR0FBQSxDQUFBLG1CQURBLENBRUEsR0FBQSxDQUFBLFFBQUEsQ0FBQSxDQUFBLEVBQUEsQ0FGQSxRQVVBLEtBQUEsSUFWQSxDQXFCQSxDQVlBLFFBQUEsQ0FBQSxlQUFBLEVBQUEsQ0FFQSxHQURBLGdCQUFBLEVBQ0EsSUF3SkEsQ0FHQSxHQUFBLENBQUEsV0FBQSxDQUFBLENBQUEseUNBQUEsQ0FBQSxDQUNBLEVBQUEsQ0FBQSxPQUFBLENBQUEsa0JBQUEsQ0FBQSxXQUFBLENBQUEsU0FBQSxDQUFBLENBQUEsQ0FDQSxDQUFBLENBQUEsT0FEQSxDQUVBLE9BQUEsQ0FBQSxHQUFBLENBQUEsd0JBQUEsQ0FGQSxDQUlBLE9BQUEsQ0FBQSxHQUFBLENBQUEsb0JBQUEsQ0FFQSxDQU5BLENBSkEsQ0FZQSxPQUFBLENBQUEsR0FBQSxD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Q0EsU0FyQ0EsR0EwQ0EsR0FBQSxDQUFBLDBCQTFDQSxFQTRDQSxjQUFBLENBQUEsQ0FBQSxDQUFBLE1BQUEsQ0FBQSxJQUFBLENBQUEsS0FBQSxDQUFBLEtBQUEsQ0E1Q0EsQ0E2Q0EsT0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLENBQUEsTUFBQSxDQUFBLElBQUEsQ0FBQSxVQUFBLENBQUEsS0FBQSxDQUFBLFVBQUEsQ0FBQSxLQUFBLENBN0NBLENBOENBLEtBQUEsQ0FDQSxtQkFDQSxDQUFBLENBQUEsTUFBQSxDQUFBLElBREEsQ0FFQSxXQUZBLENBR0EsS0FIQSxDQUlBLFdBSkEsQ0FLQSxLQUxBLENBTUEsWUFOQSxDQU9BLFFBUEEsQ0FRQSxJQVRBLENBOUNBLEVBcUNBLFNBckNBLEdBMkRBLEdBQUEsQ0FBQSxxQkEzREEsRUE0REEsY0FBQSxDQUFBLENBQUEsQ0FBQSxNQUFBLENBQUEsSUFBQSxDQUFBLEtBQUEsQ0FBQSxLQUFBLENBNURBLENBNkRBLE9BQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxDQUFBLE1BQUEsQ0FBQSxJQUFBLENBQUEsVUFBQSxDQUFBLEtBQUEsQ0FBQSxVQUFBLENBQUEsS0FBQSxDQTdEQSxDQThEQSxLQUFBLENBQ0EsY0FDQSxDQUFBLENBQUEsTUFBQSxDQUFBLElBREEsQ0FFQSxXQUZBLENBR0EsS0FIQSxDQUlBLFdBSkEsQ0FLQSxLQUxBLENBTUEsWUFOQSxDQU9BLFFBUEEsQ0FRQSxJQVRBLENBOURBLEVBcUNBLFNBckNBLEdBMkVBLEdBQUEsQ0FBQSxvQkEzRUEsRUE0RUEsY0FBQSxDQUFBLENBQUEsQ0FBQSxNQUFBLENBQUEsSUFBQSxDQUFBLEtBQUEsQ0FBQSxLQUFBLENBNUVBLENBNkVBLE9BQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxDQUFBLE1BQUEsQ0FBQSxJQUFBLENBQUEsVUFBQSxDQUFBLEtBQUEsQ0FBQSxVQUFBLENBQUEsS0FBQSxDQTdFQSxDQThFQSxLQUFBLENBQ0EsYUFDQSxDQUFBLENBQUEsTUFBQSxDQUFBLElBREEsQ0FFQSxXQUZBLENBR0EsS0FIQSxDQUlBLFdBSkEsQ0FLQSxLQUxBLENBTUEsWUFOQSxDQU9BLFFBUEEsQ0FRQSxJQVRBLENBOUVBLEdBNEZBLFFBQUEsR0E1RkEsQ0E2RkEsS0FBQSxDQUFBLDJCQUFBLENBN0ZBLEVBaUdBLFFBakdBLENBc0dBLENBRUEsQ0FBQSxJQUFBLEdBQUEsT0FBQSxDQUFBLENBQ0EsT0FBQSxDQUFBLEdBQUEsQ0FBQSxtQkFBQSxFQURBLENBRUEsT0FBQSxDQUFBLGdCQUFBLENBQ0Esd0JBREEsQ0FFQSx5QkFGQSxDQUZBLENBTUEsT0FBQSxDQUFBLGdCQUFBLENBQUEsaUJBQUEsQ0FBQSxrQkFBQSxDQU5BLENBUUEsR0FBQSxDQUFBLFlBQUEsQ0FBQSxHQUFBLENBQUEsa0JBQUEsQ0FBQSxDQUNBLElBQUEsQ0FBQSxVQURBLENBSUEsVUFBQSxDQUFBLGdCQUpBLENBQUEsQ0FBQSxDQU1BLE9BQUEsQ0FBQSxxQkFBQSxDQUFBLENBQ0EsWUFBQSxDQUFBLFlBREEsQ0FBQSxDQWRBLENBaUJBLE9BQUEsQ0FBQSwyQkFBQSxDQUFBLENBQ0EsWUFBQSxDQUFBLFlBREEsQ0FBQSxDQUdBO0FBeU9BOztBQUVBLFFBQUEsQ0FBQSxjQUFBLEVBQUE7QUFDQSxnQkFBQSxFQURBOzs7Ozs7OztBQVNBLEdBQUEsQ0FBQSx3QkFBQSxFQVRBO0FBVUEsR0FBQSxDQUFBLG1CQUFBLENBQUEsZUFBQSxDQUFBLGNBQUEsQ0FWQTtBQVdBLEdBQUEsQ0FBQSxtQkFBQSxDQUFBLGNBQUEsQ0FBQSxhQUFBLENBWEE7QUFZQSxHQUFBLENBQUEsbUJBQUEsQ0FBQSxpQkFBQSxDQUFBLDhCQUFBLENBWkEsR0FHQSxPQUFBLENBQUEsbUJBQUEsQ0FDQSx3QkFEQSxDQUVBLHlCQUZBLENBSEEsQ0FPQSxPQUFBLENBQUEsbUJBQUEsQ0FBQSxpQkFBQSxDQUFBLGtCQUFBLENBUEE7O0FBY0E7O0FBRUEsUUFBQSxDQUFBLE1BQUEsQ0FBQSxLQUFBLENBQUEsS0FBQSxDQUFBO0FBQ0EsR0FBQSxDQUFBLEdBQUEsQ0FBQSxFQUFBLENBQUEsT0FBQSxDQUFBLGdCQUFBLEVBQUE7QUFDQSxHQUFBLENBQUEsTUFBQSxDQUFBLFNBQUEsQ0FBQSxDQUFBO0FBQ0EsT0FBQSxDQUFBLEdBQUEsQ0FBQSxLQUFBLE1BQUEsQ0FEQTtBQUVBLE9BQUEsQ0FBQSxHQUFBLENBQUEsS0FBQSxZQUFBLENBRkE7QUFHQSxDQUxBO0FBTUEsR0FBQSxDQUFBLE9BQUEsQ0FBQSxTQUFBLENBQUEsQ0FBQTtBQUNBLE9BQUEsQ0FBQSxHQUFBLENBQUEsS0FBQSxNQUFBLENBREE7QUFFQSxPQUFBLENBQUEsR0FBQSxDQUFBLEtBQUEsWUFBQSxDQUZBO0FBR0EsQ0FUQTtBQVVBLEdBQUEsQ0FBQSxPQUFBLENBQUEsR0FWQTs7QUFZQSxHQUFBLENBQUEsSUFBQSxDQUFBLEtBQUEsQ0FBQSxpQ0FBQSxDQVpBO0FBYUEsR0FBQSxDQUFBLGdCQUFBLENBQUEsV0FBQSxDQUFBLGtDQUFBLENBYkE7QUFjQSxHQUFBLENBQUEsZ0JBQUEsQ0FBQSxjQUFBLENBQUEsa0JBQUEsQ0FkQTtBQWVBLEdBQUEsQ0FBQSxNQUFBLENBQUE7QUFDQSxHQUFBLENBQUEsRUFBQSxDQUFBLEdBQUEsQ0FBQSxVQUFBLENBQUEsU0FBQSxDQUFBLG9CQUFBLENBREE7QUFFQSxLQUFBLENBQUEsS0FGQTtBQUdBLEtBQUEsQ0FBQSxLQUhBLENBQUE7O0FBS0EsR0FBQSxDQUFBLElBQUEsQ0FBQSxJQUFBLENBQUEsU0FBQSxDQUFBLE1BQUEsQ0FBQSxDQXBCQTtBQXFCQTs7O0FBR0EsUUFBQSxDQUFBLFdBQUEsQ0FBQSxVQUFBLENBQUEsVUFBQSxDQUFBLFFBQUEsQ0FBQTtBQUNBLEdBQUEsQ0FBQSxlQURBO0FBRUEsR0FBQSxDQUFBLEVBQUEsQ0FBQSxPQUFBLENBQUEsZ0JBQUEsRUFGQTs7QUFJQSxXQUFBLENBQUEsUUFBQSxDQUFBLGtCQUFBLFVBQUEsSUFBQSxVQUFBLEVBQUEsQ0FKQTtBQUtBLE9BQUEsQ0FBQSxHQUFBLENBQUEsR0FBQSxDQUFBLFdBQUEsQ0FBQSxXQUFBLENBQUEsU0FBQSxDQUFB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QUEsQ0FBQSxRQUFBLENBQUEsUURqbUJBO0FDa21CQSxPQUFBLENBQUEsZUFBQSxDQUFBLGVEbG1CQTs7Ozs7Ozs7OztBQXVDQSxDQUFBLENBQUEsTUFBQSxDQUFBLENBQUEsQ0FBQSxPQUFBLENBdkNBO0FBd0NBOztBQUVBLE1BQUEsQ0FBQSxPQUFBLENBQUEsVSIsInNvdXJjZXNDb250ZW50IjpbInZhciBBbGxveSA9IHJlcXVpcmUoJy9hbGxveScpLFxuXHRCYWNrYm9uZSA9IEFsbG95LkJhY2tib25lLFxuXHRfID0gQWxsb3kuXztcblxuXG5cblxuZnVuY3Rpb24gX19wcm9jZXNzQXJnKG9iaiwga2V5KSB7XG5cdHZhciBhcmcgPSBudWxsO1xuXHRpZiAob2JqKSB7XG5cdFx0YXJnID0gb2JqW2tleV0gfHwgbnVsbDtcblx0fVxuXHRyZXR1cm4gYXJnO1xufVxuXG5mdW5jdGlvbiBDb250cm9sbGVyKCkge1xuXHRcblx0cmVxdWlyZSgnL2FsbG95L2NvbnRyb2xsZXJzLycgKyAnQmFzZUNvbnRyb2xsZXInKS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcblx0dGhpcy5fX2NvbnRyb2xsZXJQYXRoID0gJ2luZXRfYmVhY29uL2JlYWNvbl9iYWNrdXAnO1xuXHR0aGlzLmFyZ3MgPSBhcmd1bWVudHNbMF0gfHwge307XG5cblx0aWYgKGFyZ3VtZW50c1swXSkge1xuXHRcdHZhciBfX3BhcmVudFN5bWJvbCA9IF9fcHJvY2Vzc0FyZyhhcmd1bWVudHNbMF0sICdfX3BhcmVudFN5bWJvbCcpO1xuXHRcdHZhciAkbW9kZWwgPSBfX3Byb2Nlc3NBcmcoYXJndW1lbnRzWzBdLCAnJG1vZGVsJyk7XG5cdFx0dmFyIF9faXRlbVRlbXBsYXRlID0gX19wcm9jZXNzQXJnKGFyZ3VtZW50c1swXSwgJ19faXRlbVRlbXBsYXRlJyk7XG5cdH1cblx0dmFyICQgPSB0aGlzO1xuXHR2YXIgZXhwb3J0cyA9IHt9O1xuXHR2YXIgX19kZWZlcnMgPSB7fTtcblxuXHQvLyBHZW5lcmF0ZWQgY29kZSB0aGF0IG11c3QgYmUgZXhlY3V0ZWQgYmVmb3JlIGFsbCBVSSBhbmQvb3Jcblx0Ly8gY29udHJvbGxlciBjb2RlLiBPbmUgZXhhbXBsZSBpcyBhbGwgbW9kZWwgYW5kIGNvbGxlY3Rpb25cblx0Ly8gZGVjbGFyYXRpb25zIGZyb20gbWFya3VwLlxuXHRcblxuXHQvLyBHZW5lcmF0ZWQgVUkgY29kZVxuXHRleHBvcnRzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7fTtcblxuXHQvLyBtYWtlIGFsbCBJRGVkIGVsZW1lbnRzIGluICQuX192aWV3cyBhdmFpbGFibGUgcmlnaHQgb24gdGhlICQgaW4gYVxuXHQvLyBjb250cm9sbGVyJ3MgaW50ZXJuYWwgY29kZS4gRXh0ZXJuYWxseSB0aGUgSURlZCBlbGVtZW50cyB3aWxsXG5cdC8vIGJlIGFjY2Vzc2VkIHdpdGggZ2V0VmlldygpLlxuXHRfLmV4dGVuZCgkLCAkLl9fdmlld3MpO1xuXG5cdC8vIENvbnRyb2xsZXIgY29kZSBkaXJlY3RseSBmcm9tIHRoZSBkZXZlbG9wZXIncyBjb250cm9sbGVyIGZpbGVcblx0X19NQVBNQVJLRVJfQ09OVFJPTExFUl9DT0RFX19cblxuXHQvLyBHZW5lcmF0ZWQgY29kZSB0aGF0IG11c3QgYmUgZXhlY3V0ZWQgYWZ0ZXIgYWxsIFVJIGFuZFxuXHQvLyBjb250cm9sbGVyIGNvZGUuIE9uZSBleGFtcGxlIGRlZmVycmVkIGV2ZW50IGhhbmRsZXJzIHdob3NlXG5cdC8vIGZ1bmN0aW9ucyBhcmUgbm90IGRlZmluZWQgdW50aWwgYWZ0ZXIgdGhlIGNvbnRyb2xsZXIgY29kZVxuXHQvLyBpcyBleGVjdXRlZC5cblx0XG5cblx0Ly8gRXh0ZW5kIHRoZSAkIGluc3RhbmNlIHdpdGggYWxsIGZ1bmN0aW9ucyBhbmQgcHJvcGVydGllc1xuXHQvLyBkZWZpbmVkIG9uIHRoZSBleHBvcnRzIG9iamVjdC5cblx0Xy5leHRlbmQoJCwgZXhwb3J0cyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29udHJvbGxlcjtcbiIsIi8vIGxldCBiZWFjb25VVUlEID0gXCJjOGE5NGY0Mi0zY2Q1LTQ4M2EtOGFkYy05NzQ3MzE5N2I4YjRcIjtcbmxldCBiZWFjb25VVUlEID0gXCI1OTkxZTE2MS1iYjQ2LTQzMmYtOWJkOC1iMjcxZjc2ZjY3ZDlcIjtcbmxldCBiZWFjb25JZGVudGlmaWVyID0gXCJNb3Jwcm9tXCI7XG5sZXQgZ2xvYmFsX2JlYWNvbnMgPSB7fTtcblRpLkFwcC5Qcm9wZXJ0aWVzLnNldFN0cmluZyhcImZfYmVhY29uXCIsIFwiXCIpO1xuXG5mdW5jdGlvbiByZXNldFN0YXRlQmVhY29uKCkge1xuICBUaS5BcHAuUHJvcGVydGllcy5zZXRTdHJpbmcoXCJpbmV0QmVhY29uRGF0YV9tYWpvclwiLCBudWxsKTtcbiAgVGkuQXBwLlByb3BlcnRpZXMuc2V0U3RyaW5nKFwiaW5ldEJlYWNvbkRhdGFfbWlub3JcIiwgbnVsbCk7XG4gIFRpLkFwcC5Qcm9wZXJ0aWVzLnNldFN0cmluZyhcImluZXRCZWFjb25EYXRhX3V1aWRcIiwgbnVsbCk7XG59XG5mdW5jdGlvbiBzZXRTdGF0ZUJlYWNvbih1dWlkLCBtaW5vciwgbWFqb3IpIHtcbiAgVGkuQXBwLlByb3BlcnRpZXMuc2V0U3RyaW5nKFwiaW5ldEJlYWNvbkRhdGFfbWFqb3JcIiwgbWFqb3IpO1xuICBUaS5BcHAuUHJvcGVydGllcy5zZXRTdHJpbmcoXCJpbmV0QmVhY29uRGF0YV9taW5vclwiLCBtaW5vcik7XG4gIFRpLkFwcC5Qcm9wZXJ0aWVzLnNldFN0cmluZyhcImluZXRCZWFjb25EYXRhX3V1aWRcIiwgdXVpZCk7XG59XG5mdW5jdGlvbiBpc1NhbWVTdGF0ZUJlZm9yZSh1dWlkLCBtaW5vciwgbWFqb3IpIHtcbiAgaWYgKFxuICB1dWlkID09IFRpLkFwcC5Qcm9wZXJ0aWVzLmdldFN0cmluZyhcImluZXRCZWFjb25EYXRhX3V1aWRcIikgJiZcbiAgbWFqb3IgPT0gVGkuQXBwLlByb3BlcnRpZXMuZ2V0U3RyaW5nKFwiaW5ldEJlYWNvbkRhdGFfbWFqb3JcIikgJiZcbiAgbWlub3IgPT0gVGkuQXBwLlByb3BlcnRpZXMuZ2V0U3RyaW5nKFwiaW5ldEJlYWNvbkRhdGFfbWlub3JcIikpXG4gIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmNvbnNvbGUubG9nKFwiYmVnaW46XCIsIE1hdGguZmxvb3IoRGF0ZS5ub3coKSkpO1xudmFyIEJMRSA9IG51bGw7XG52YXIgR0FUVCA9IG51bGw7XG52YXIgY2VudHJhbE1hbmFnZXIgPSBudWxsO1xuLy8gdmFyIGFuZHJvaWRQbGF0Zm9ybVRvb2xzID0gcmVxdWlyZSgnYmVuY29kaW5nLmFuZHJvaWQudG9vbHMnKS5jcmVhdGVQbGF0Zm9ybSgpO1xudmFyIGlzRm9yZWdyb3VuZCA9IHRydWU7XG5cbmlmIChPU19JT1MpXG57XG4gIEJMRSA9IHJlcXVpcmUoXCJhcHBjZWxlcmF0b3IuYmxlXCIpO1xufSBlbHNlXG57XG4gIEJMRSA9IHJlcXVpcmUoXCJjb20ubGlmZXJheS5iZWFjb25zXCIpO1xuICBHQVRUID0gcmVxdWlyZSgndGkuYmx1ZXRvb3RoJyk7XG4gIGNlbnRyYWxNYW5hZ2VyID0gR0FUVC5jcmVhdGVDZW50cmFsTWFuYWdlcigpO1xufVxuXG5mdW5jdGlvbiBpc0ludGVyZXN0ZWRSZWdpb24ocnNzaSlcbntcbiAgdGFnID0gXCJpc0ludGVyZXN0UmVnaW9uOlwiO1xuICBsZXQgbWluX3Jzc2kgPSAtOTY7XG4gIGlmIChPU19JT1MpXG4gIHtcbiAgICAvLyBpbnRlcmVzdGVkIGFsbFxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2VcblxuICB7XG4gICAgaWYgKHJzc2kgPD0gbWluX3Jzc2kpXG4gICAge1xuICAgICAgLy8gbm90IGludGVyZXN0ZWQgcmVnaW9uXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlXG5cbiAgICB7XG4gICAgICAvLyBpbnRlcmVzdGVkIHJlZ2lvblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG59XG5cbmNvbnNvbGUubG9nKFwiYWZ0ZXIgbG9kZSBsaWI6XCIsIE1hdGguZmxvb3IoRGF0ZS5ub3coKSkpO1xuLy8gLS0tIGlvcyAtLS0tLS0tLS0tXG52YXIgbWFuYWdlciA9IG51bGw7XG52YXIgaW9zRGlkUmFuZ2VCZWFjb25zID0gbnVsbDtcbnZhciBpb3NEaWRDaGFuZ2VBdXRob3JpemF0aW9uID0gbnVsbDtcbi8vIC0tLSBhbmRyb2lkIC0tLS0tLS0tLS1cbnZhciBhbmRyb2lkRW50ZXJlZCA9IG51bGw7XG52YXIgYW5kcm9pZEV4aXRlZCA9IG51bGw7XG52YXIgYW5kcm9pZEJlYWNvblByb3hpbWl0eUNhbGxiYWNrID0gbnVsbDtcblxuZnVuY3Rpb24gYmVhY29uU3RhcnRTY2FuKCkge1xuICByZXNldFN0YXRlQmVhY29uKCk7XG4gIGlmIChPU19JT1MpIHtcbiAgICAvLyAtLS0tLS0tLSBJT1MgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBpb3NEaWRDaGFuZ2VBdXRob3JpemF0aW9uID0gKGUpID0+IHtcbiAgICAgIFRpLkFQSS5pbmZvKFwiZGlkQ2hhbmdlQXV0aG9yaXphdGlvblwiKTtcbiAgICAgIHN3aXRjaCAoZS5zdGF0ZSkge1xuICAgICAgICBjYXNlIEJMRS5MT0NBVElPTl9NQU5BR0VSX0FVVEhPUklaQVRJT05fU1RBVFVTX0FVVEhPUklaRURfQUxXQVlTOlxuICAgICAgICAgIGFsZXJ0KFwiTWFuYWdlciBhdXRob3JpemF0aW9uIGlzIGFsd2F5c1wiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBCTEUuTE9DQVRJT05fTUFOQUdFUl9BVVRIT1JJWkFUSU9OX1NUQVRVU19BVVRIT1JJWkVEX1dIRU5fSU5fVVNFOlxuICAgICAgICAgIGFsZXJ0KFwiTWFuYWdlciBhdXRob3JpemF0aW9uIGlzIHdoZW4gaW4gdXNlXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEJMRS5MT0NBVElPTl9NQU5BR0VSX0FVVEhPUklaQVRJT05fU1RBVFVTX0RFTklFRDpcbiAgICAgICAgICBhbGVydChcIk1hbmFnZXIgYXV0aG9yaXphdGlvbiBpcyBkZW5pZWRcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQkxFLkxPQ0FUSU9OX01BTkFHRVJfQVVUSE9SSVpBVElPTl9TVEFUVVNfTk9UX0RFVEVSTUlORUQ6XG4gICAgICAgICAgYWxlcnQoXCJNYW5hZ2VyIGF1dGhvcml6YXRpb24gaXMgbm90IGRldGVybWluZWRcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQkxFLkxPQ0FUSU9OX01BTkFHRVJfQVVUSE9SSVpBVElPTl9TVEFUVVNfUkVTVFJJQ1RFRDpcbiAgICAgICAgICBhbGVydChcIk1hbmFnZXIgYXV0aG9yaXphdGlvbiBpcyBwb3dlcmVkIHJlc3RyaWN0ZWRcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYWxlcnQoXCJVbmtub3duXCIpO1xuICAgICAgICAgIGJyZWFrO31cblxuICAgIH07XG5cbiAgICBpb3NEaWRSYW5nZUJlYWNvbnMgPSAoZSkgPT4ge1xuICAgICAgVGkuQVBJLmluZm8oXCJkaWRSYW5nZUJlYWNvbnNcIik7XG4gICAgICB2YXIgYmVjYW9ucyA9IGUuYmVhY29ucztcblxuXG4gICAgICBpZiAoYmVjYW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJObyBiZWFjb24gaW4gcmFuZ2VcIik7XG4gICAgICAgIGlmIChUaS5BcHAuUHJvcGVydGllcy5nZXRTdHJpbmcoXCJpbmV0QmVhY29uRGF0YV91dWlkXCIpICE9PSBudWxsKSB7XG4gICAgICAgICAgYWxlcnQoXG4gICAgICAgICAgXCJFeGl0IHV1aWQ6IFwiICtcbiAgICAgICAgICBUaS5BcHAuUHJvcGVydGllcy5nZXRTdHJpbmcoXCJpbmV0QmVhY29uRGF0YV91dWlkXCIpICtcbiAgICAgICAgICBcIiAgTWFqb3I6IFwiICtcbiAgICAgICAgICBUaS5BcHAuUHJvcGVydGllcy5nZXRTdHJpbmcoXCJpbmV0QmVhY29uRGF0YV9tYWpvclwiKSArXG4gICAgICAgICAgXCIgIE1pbm9yOiBcIiArXG4gICAgICAgICAgVGkuQXBwLlByb3BlcnRpZXMuZ2V0U3RyaW5nKFwiaW5ldEJlYWNvbkRhdGFfbWlub3JcIikpO1xuXG4gICAgICAgICAgcmVzZXRTdGF0ZUJlYWNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb3hpbWl0eSA9IGJlY2FvbnNbMF0ucHJveGltaXR5O1xuICAgICAgdmFyIGFjY3VyYWN5ID0gYmVjYW9uc1swXS5hY2N1cmFjeTtcbiAgICAgIHZhciBtYWpvciA9IGJlY2FvbnNbMF0ubWFqb3I7XG4gICAgICB2YXIgbWlub3IgPSBiZWNhb25zWzBdLm1pbm9yO1xuICAgICAgdmFyIGhhdmVDYXNlID0gdHJ1ZTtcblxuICAgICAgLy8gY2hlY2sgc3RhdGUgYmVmb3JlXG5cbiAgICAgIGlmICghaXNJbnRlcmVzdGVkUmVnaW9uKHByb3hpbWl0eSkpXG4gICAgICB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVG9vIGZhci4uLlwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1NhbWVTdGF0ZUJlZm9yZShlLnJlZ2lvbi51dWlkLCBtYWpvciwgbWlub3IpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChwcm94aW1pdHkpIHtcbiAgICAgICAgY2FzZSBCTEUuQkVBQ09OX1BST1hJTUlUWV9VTktOT1dOOlxuICAgICAgICAgIGFsZXJ0KFwiQmVhY29uIExvY2F0aW9uIDogVU5LTk9XTlwiKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIEJMRS5CRUFDT05fUFJPWElNSVRZX0lNTUVESUFURTpcbiAgICAgICAgICAvLyBzZXQgYmVhY29uIHN0YXRlIG9ubHksIGJ1dCBub3QgdXNlIHByb3hpbWl0eVxuICAgICAgICAgIHNldFN0YXRlQmVhY29uKGUucmVnaW9uLnV1aWQsIG1ham9yLCBtaW5vcik7XG4gICAgICAgICAgY29uc29sZS5sb2coZS5yZWdpb24udXVpZCArIFwiIE1ham9yOiBcIiArIG1ham9yICsgXCIgTWlub3I6IFwiICsgbWlub3IpO1xuICAgICAgICAgIGFsZXJ0KFxuICAgICAgICAgIFwiSU1NRURJQVRFIHV1aWQ6IFwiICtcbiAgICAgICAgICBlLnJlZ2lvbi51dWlkICtcbiAgICAgICAgICBcIiAgTWFqb3I6IFwiICtcbiAgICAgICAgICBtYWpvciArXG4gICAgICAgICAgXCIgIE1pbm9yOiBcIiArXG4gICAgICAgICAgbWlub3IgK1xuICAgICAgICAgIFwiICBBcHByb3g6IFwiICtcbiAgICAgICAgICBhY2N1cmFjeSArXG4gICAgICAgICAgXCJtKVwiKTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgQkxFLkJFQUNPTl9QUk9YSU1JVFlfTkVBUjpcbiAgICAgICAgICBzZXRTdGF0ZUJlYWNvbihlLnJlZ2lvbi51dWlkLCBtYWpvciwgbWlub3IpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUucmVnaW9uLnV1aWQgKyBcIiBNYWpvcjogXCIgKyBtYWpvciArIFwiIE1pbm9yOiBcIiArIG1pbm9yKTtcbiAgICAgICAgICBhbGVydChcbiAgICAgICAgICBcIk5FQVIgdXVpZDogXCIgK1xuICAgICAgICAgIGUucmVnaW9uLnV1aWQgK1xuICAgICAgICAgIFwiICBNYWpvcjogXCIgK1xuICAgICAgICAgIG1ham9yICtcbiAgICAgICAgICBcIiAgTWlub3I6IFwiICtcbiAgICAgICAgICBtaW5vciArXG4gICAgICAgICAgXCIgIEFwcHJveDogXCIgK1xuICAgICAgICAgIGFjY3VyYWN5ICtcbiAgICAgICAgICBcIm0pXCIpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBCTEUuQkVBQ09OX1BST1hJTUlUWV9GQVI6XG4gICAgICAgICAgc2V0U3RhdGVCZWFjb24oZS5yZWdpb24udXVpZCwgbWFqb3IsIG1pbm9yKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlLnJlZ2lvbi51dWlkICsgXCIgTWFqb3I6IFwiICsgbWFqb3IgKyBcIiBNaW5vcjogXCIgKyBtaW5vcik7XG4gICAgICAgICAgYWxlcnQoXG4gICAgICAgICAgXCJGQVIgdXVpZDogXCIgK1xuICAgICAgICAgIGUucmVnaW9uLnV1aWQgK1xuICAgICAgICAgIFwiICBNYWpvcjogXCIgK1xuICAgICAgICAgIG1ham9yICtcbiAgICAgICAgICBcIiAgTWlub3I6IFwiICtcbiAgICAgICAgICBtaW5vciArXG4gICAgICAgICAgXCIgIEFwcHJveDogXCIgK1xuICAgICAgICAgIGFjY3VyYWN5ICtcbiAgICAgICAgICBcIm0pXCIpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBoYXZlQ2FzZSA9IGZhbHNlO1xuICAgICAgICAgIGFsZXJ0KFwiQmVhY29uIExvY2F0aW9uIDogVU5LTk9XTlwiKTtcbiAgICAgICAgICBicmVhazt9XG5cblxuICAgICAgaWYgKGhhdmVDYXNlKSB7XG4gICAgICAgIC8vIHB1dEFwaShtYWpvciwgbWlub3IpO1xuICAgICAgICAvLyAuLnJlY29yZCBiZWFjb25cbiAgICAgIH1cblxuICAgIH07XG5cbiAgICBpZiAobWFuYWdlciA9PT0gbnVsbCkge1xuICAgICAgbWFuYWdlciA9IEJMRS5jcmVhdGVSZWdpb25NYW5hZ2VyKCk7XG4gICAgICBtYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImRpZENoYW5nZUF1dGhvcml6YXRpb25cIixcbiAgICAgIGlvc0RpZENoYW5nZUF1dGhvcml6YXRpb24pO1xuXG4gICAgICBtYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJkaWRSYW5nZUJlYWNvbnNcIiwgaW9zRGlkUmFuZ2VCZWFjb25zKTtcblxuICAgICAgdmFyIGJlYWNvblJlZ2lvbiA9IEJMRS5jcmVhdGVCZWFjb25SZWdpb24oe1xuICAgICAgICB1dWlkOiBiZWFjb25VVUlELFxuICAgICAgICAvLyBtYWpvcjogMzI3NzIsXG4gICAgICAgIC8vIG1pbm9yOiAzLFxuICAgICAgICBpZGVudGlmaWVyOiBiZWFjb25JZGVudGlmaWVyIH0pO1xuXG4gICAgICBtYW5hZ2VyLnN0YXJ0UmVnaW9uTW9uaXRvcmluZyh7XG4gICAgICAgIGJlYWNvblJlZ2lvbjogYmVhY29uUmVnaW9uIH0pO1xuXG4gICAgICBtYW5hZ2VyLnN0YXJ0UmFuZ2luZ0JlYWNvbnNJblJlZ2lvbih7XG4gICAgICAgIGJlYWNvblJlZ2lvbjogYmVhY29uUmVnaW9uIH0pO1xuXG4gICAgfVxuXG4gIH0gZWxzZSB7XG4gICAgLy8gLS0tLS0tLS0gQW5kcm9pZCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIENoZWNrIFBlcm1pc3Npb24gTG9jYXRpb25cbiAgICB2YXIgcGVybWlzc2lvbnMgPSBbXCJhbmRyb2lkLnBlcm1pc3Npb24uQUNDRVNTX0ZJTkVfTE9DQVRJT05cIl07XG4gICAgVGkuQW5kcm9pZC5yZXF1ZXN0UGVybWlzc2lvbnMocGVybWlzc2lvbnMsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZS5zdWNjZXNzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiYWxsb3cgbG9jYXRpb24gc3VjY2Vzc1wiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwibm90IGFsbG93IGxvY2F0aW9uXCIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coXCJhZnRlciBjaGVjayBwZXJtOlwiLCBNYXRoLmZsb29yKERhdGUubm93KCkpKTtcblxuICAgIC8vYW5kcm9pZEVudGVyZWQgY2FsbGJhY2tcbiAgICB2YXIgaXNFbnRlclJlZ2lvbiA9IGZhbHNlO1xuICAgIGFuZHJvaWRFbnRlcmVkID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGxldCB0YWcgPSBcImFuZHJvaWRFbnRlcmVkOlwiO1xuICAgICAgY29uc29sZS5sb2codGFnLCBcImVudGVyZWQgcmVnaW9uIGlkZW50aWZlcjogXCIgKyBlLmlkZW50aWZpZXIpO1xuICAgICAgY29uc29sZS5sb2codGFnLCBlKTtcbiAgICAgIGlzRW50ZXJSZWdpb24gPSB0cnVlO1xuICAgICAgYWxlcnQoXG4gICAgICB0YWcgKyBcIkVudGVyXCIpO1xuXG4gICAgfTtcblxuICAgIC8vYW5kcm9pZEJlYWNvblByb3hpbWl0eUNhbGxiYWNrXG4gICAgYW5kcm9pZEJlYWNvblByb3hpbWl0eUNhbGxiYWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGxldCB0YWcgPSBcInByb3hDYWxsYmFjazpcIjtcbiAgICAgIGlmIChpc0VudGVyUmVnaW9uKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRhZywgXCJpZGVudGlmZXI6IFwiICsgZS5pZGVudGlmaWVyKTtcbiAgICAgICAgY29uc29sZS5sb2codGFnLCBcInV1aWQ6IFwiICsgZS51dWlkKTtcbiAgICAgICAgY29uc29sZS5sb2codGFnLCBcIm1ham9yOiBcIiArIGUubWFqb3IpO1xuICAgICAgICBjb25zb2xlLmxvZyh0YWcsIFwibWlub3I6IFwiICsgZS5taW5vcik7XG4gICAgICAgIGNvbnNvbGUubG9nKHRhZywgXCJwcm94aW1pdHk6IFwiICsgZS5wcm94aW1pdHkpO1xuICAgICAgICBjb25zb2xlLmxvZyh0YWcsIFwiYWNjdXJhY3k6IFwiICsgZS5hY2N1cmFjeSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRhZywgXCJyc3NpOiBcIiArIGUucnNzaSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRhZywgXCJwb3dlcjogXCIgKyBlLnBvd2VyKTtcbiAgICAgICAgLy8gYWxlcnQodGFnICsgXCJtaW5vcjpcIiArIGUubWlub3IgKyBcIiwgcHJveDpcIiArIGUucHJveGltaXR5ICsgXCIsIHJzc2k6XCIgKyBlLnJzc2kgKyBcIiwgYWNjdXJhY3k6XCIgKyBlLmFjY3VyYWN5KTtcblxuXG4gICAgICAgIC8vIGlmIG5vdCBpbnRlcmVzdGVkIHJlZ2lvbiwgaWdub3JlIGl0ICEhXG4gICAgICAgIGlmICghaXNJbnRlcmVzdGVkUmVnaW9uKGUucnNzaSkpXG4gICAgICAgIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlRvbyBmYXIuLi5cIik7XG4gICAgICAgICAgYWxlcnQoXCJUb28gZmFyLi4ucnNzaTpcIiArIGUucnNzaSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlzIHNhbWUgc3RhdGUgYmVmb3JcbiAgICAgICAgaWYgKGlzU2FtZVN0YXRlQmVmb3JlKGUudXVpZCwgZS5tYWpvciwgZS5taW5vcikpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyh0YWcsIFwiU2FtZSBiZWFjb25cIik7XG4gICAgICAgICAgaXNDb25maXJtRXhpdCA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBqdXN0IHJlY29yZCBiZWFjb24sIG5vdCB1c2UgcHJveGltaXR5XG4gICAgICAgIHNldFN0YXRlQmVhY29uKGUudXVpZCwgZS5tYWpvciwgZS5taW5vcik7XG4gICAgICAgIC8vIGFsZXJ0KFxuICAgICAgICAvLyAgIHRhZyArIFwicHV0QXBpLT5cIiArIGUudXVpZCArIFwiIE1ham9yOiBcIiArIGUubWFqb3IgKyBcIiBNaW5vcjogXCIgKyBlLm1pbm9yICsgXCIgcHJveDpcIiArIGUucHJveGltaXR5XG4gICAgICAgIC8vICk7XG4gICAgICAgIC8vcHV0IG1lc3NhZ2UgdG8gYm90XG4gICAgICAgIC8vIHB1dEFwaShlLm1ham9yLCBlLm1pbm9yKVxuXG4gICAgICAgIGlzRW50ZXJSZWdpb24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy9hbmRyb2lkRXhpdGVkIGNhbGxiYWNrXG4gICAgdmFyIGhhbmRsZSA9IG51bGw7XG4gICAgdmFyIGlzQ29uZmlybUV4aXQgPSBmYWxzZTtcbiAgICBhbmRyb2lkRXhpdGVkID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlzQ29uZmlybUV4aXQgPSB0cnVlO1xuICAgICAgY29uc29sZS5sb2coXCJleGl0ZWQgcmVnaW9uIGlkZW50aWZlcjogXCIgKyBlLmlkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoVGkuQXBwLlByb3BlcnRpZXMuZ2V0U3RyaW5nKFwiaW5ldEJlYWNvbkRhdGFfdXVpZFwiKSAhPT0gbnVsbCAmJiBoYW5kbGUgPT0gbnVsbCkge1xuICAgICAgICB2YXIgY291bnRFeGl0ID0gMDtcbiAgICAgICAgaGFuZGxlID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiaXNDb25maXJtRXhpdDogXCIgKyBpc0NvbmZpcm1FeGl0KTtcbiAgICAgICAgICBpZiAoY291bnRFeGl0ID4gNjAgJiYgaXNDb25maXJtRXhpdCkge1xuICAgICAgICAgICAgLy8gQ29uZmlybSBleGl0ZWQgc2lnbmFsXG4gICAgICAgICAgICBhbGVydChcbiAgICAgICAgICAgIFwiRXhpdCB1dWlkOiBcIiArXG4gICAgICAgICAgICBUaS5BcHAuUHJvcGVydGllcy5nZXRTdHJpbmcoXCJpbmV0QmVhY29uRGF0YV91dWlkXCIpICtcbiAgICAgICAgICAgIFwiICBNYWpvcjogXCIgK1xuICAgICAgICAgICAgVGkuQXBwLlByb3BlcnRpZXMuZ2V0U3RyaW5nKFwiaW5ldEJlYWNvbkRhdGFfbWFqb3JcIikgK1xuICAgICAgICAgICAgXCIgIE1pbm9yOiBcIiArXG4gICAgICAgICAgICBUaS5BcHAuUHJvcGVydGllcy5nZXRTdHJpbmcoXCJpbmV0QmVhY29uRGF0YV9taW5vclwiKSk7XG5cbiAgICAgICAgICAgIHJlc2V0U3RhdGVCZWFjb24oKTtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaGFuZGxlKTtcbiAgICAgICAgICAgIGhhbmRsZSA9IG51bGw7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIml0J3MgcmVhbGx5IGV4aXQgXCIgKyBoYW5kbGUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWlzQ29uZmlybUV4aXQpIHtcbiAgICAgICAgICAgIC8vIFJlc2V0IENvbmZpcm0gRXhpdCBJbnRlcnZhbFxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChoYW5kbGUpO1xuICAgICAgICAgICAgaGFuZGxlID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaXQncyBub3QgZXhpdCBcIiArIGhhbmRsZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvdW50RXhpdCsrO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiY291bnQ6IFwiICsgY291bnRFeGl0KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBhbmRyb2lkQmluZGluZ0NhbGxiYWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRhZyA9IFwiYW5kcm9pZEJpbmRpbmdDYWxsYmFjazogXCI7XG4gICAgICBjb25zb2xlLmxvZyh0YWcsIGUpO1xuICAgIH07XG5cbiAgICB2YXIgaW5CZWNvblJhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciB0YWcgPSBcImJlYWNvblJhbmdlczogXCI7XG4gICAgICBjb25zb2xlLmxvZyh0YWcsIFwiSSBhbSBpbiB0aGUgXCIgKyBlLmlkZW50aWZpZXIgKyBcIiByZWdpb25cIik7XG4gICAgICBjb25zb2xlLmxvZyh0YWcsIFwiSSBzZWUgXCIgKyBlLmJlYWNvbnMubGVuZ3RoICsgXCIgYmVhY29ucyBpbiB0aGlzIHJlZ2lvbjpcIik7XG4gICAgICBjb25zb2xlLmxvZyh0YWcsIFwiLS0tLS0tLS0tLS0tLS0tLVwiKTtcbiAgICAgIGUuYmVhY29ucy5mb3JFYWNoKGZ1bmN0aW9uIChiZWFjb24sIGluZGV4KSB7XG4gICAgICAgIC8vIC4uLiBjaGVjayByc3NpIGFkZCB0byBkaWFsb2dcbiAgICAgICAgLy8gaWYgbm90IGludGVyZXN0ZWRSZWdpb24ocnNzaSkgLi4uIG5vdCBhZGQgdG8gY2hlY2tpbiBkaWFsb2dcbiAgICAgICAgY29uc29sZS5sb2codGFnLCBcIkJlYWNvbiBudW1iZXI6IFwiICsgaW5kZXgpO1xuICAgICAgICBjb25zb2xlLmxvZyh0YWcsIFwidXVpZDogXCIgKyBiZWFjb24udXVpZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRhZywgXCJtYWpvcjogXCIgKyBiZWFjb24ubWFqb3IpO1xuICAgICAgICBjb25zb2xlLmxvZyh0YWcsIFwibWlub3I6IFwiICsgYmVhY29uLm1pbm9yKTtcbiAgICAgICAgY29uc29sZS5sb2codGFnLCBcInByb3hpbWl0eTogXCIgKyBiZWFjb24ucHJveGltaXR5KTtcbiAgICAgICAgY29uc29sZS5sb2codGFnLCBcImFjY3VyYWN5OiBcIiArIGJlYWNvbi5hY2N1cmFjeSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRhZywgXCJyc3NpOiBcIiArIGJlYWNvbi5yc3NpKTtcbiAgICAgICAgY29uc29sZS5sb2codGFnLCBcInBvd2VyOiBcIiArIGJlYWNvbi5wb3dlcik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLS0tLVwiKTtcbiAgICAgICAgLy8gLi4gZG8gb3RoZXJzIC4uLi5cbiAgICAgICAgdmFyIGJlYWNvbl9rZXkgPSBiZWFjb24ubWFqb3IgKyBcIi1cIiArIGJlYWNvbi5taW5vcjtcbiAgICAgICAgaWYgKGJlYWNvbl9rZXkgaW4gZ2xvYmFsX2JlYWNvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhiZWFjb25fa2V5ICsgXCIgYmVhY29uIHdhcyByZWNvcmRlZFwiKTtcbiAgICAgICAgfSBlbHNlXG5cbiAgICAgICAge1xuICAgICAgICAgIGlmIChpc0ludGVyZXN0ZWRSZWdpb24oYmVhY29uLnJzc2kpKVxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRhZywgXCJjYWxsIGxvY2F0aW9uIGFwaVwiKTtcbiAgICAgICAgICAgIGdsb2JhbF9iZWFjb25zW2JlYWNvbl9rZXldID0ge1xuICAgICAgICAgICAgICBcIm1ham9yXCI6IGJlYWNvbi5tYWpvcixcbiAgICAgICAgICAgICAgXCJtaW5vclwiOiBiZWFjb24ubWlub3IsXG4gICAgICAgICAgICAgIFwicnNzaVwiOiBiZWFjb24ucnNzaSxcbiAgICAgICAgICAgICAgXCJsb2NhdGlvblwiOiBcIuC4geC4s+C4peC4seC4h+C4hOC5ieC4meC4q+C4suC4leC4s+C5geC4q+C4meC5iOC4h1wiLFxuICAgICAgICAgICAgICBcImlzUmVnaXRlcmVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICBcInRzXCI6IG5ldyBEYXRlKCkuZ2V0VGltZSgpIH07XG5cbiAgICAgICAgICAgIC8vIGNhbGwgbG9jYXRpb29uIGFwaVxuICAgICAgICAgICAgZ2V0TG9jYXRpb24oYmVhY29uLm1ham9yLCBiZWFjb24ubWlub3IsIGJlYWNvbl9rZXkpO1xuICAgICAgICAgIH0gZWxzZVxuXG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJOb3QgaW50ZXJlc2VkIHJlZ2lvbi5cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgQkxFLmFkZEV2ZW50TGlzdGVuZXIoXCJiZWFjb25SYW5nZXNcIiwgaW5CZWNvblJhbmdlKTtcblxuICAgIHZhciByZWdpb25TdGF0ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgdGFnID0gXCJyZWdpb25TdGF0ZTogXCI7XG4gICAgICBjb25zb2xlLmxvZyh0YWcsIFwiaWRlbnRpZmVyOiBcIiArIGUucmVnaW9uU3RhdGUpO1xuICAgIH07XG5cbiAgICBCTEUuYWRkRXZlbnRMaXN0ZW5lcihcImVudGVyZWRSZWdpb25cIiwgYW5kcm9pZEVudGVyZWQpO1xuICAgIEJMRS5hZGRFdmVudExpc3RlbmVyKFwiZXhpdGVkUmVnaW9uXCIsIGFuZHJvaWRFeGl0ZWQpO1xuICAgIEJMRS5hZGRFdmVudExpc3RlbmVyKFwiYmVhY29uUHJveGltaXR5XCIsIGFuZHJvaWRCZWFjb25Qcm94aW1pdHlDYWxsYmFjayk7XG4gICAgQkxFLmFkZEV2ZW50TGlzdGVuZXIoXCJvbklCZWFjb25TZXJ2aWNlQ29ubmVjdFwiLCBhbmRyb2lkQmluZGluZ0NhbGxiYWNrKTtcblxuICAgIEJMRS5hZGRFdmVudExpc3RlbmVyKFwiZGV0ZXJtaW5lZFJlZ2lvblN0YXRlXCIsIHJlZ2lvblN0YXRlKTtcblxuICAgIGNvbnNvbGUubG9nKFwiYWRkIGV2bnQgY29tcGxldGU6XCIsIE1hdGguZmxvb3IoRGF0ZS5ub3coKSkpO1xuXG4gICAgLy8gQWlycG9ydHMgQmVhY29uXG4gICAgLy8gVVVJRDogNTk5MWUxNjEtYmI0Ni00MzJmLTliZDgtYjI3MWY3NmY2N2Q5XG5cbiAgICAvLyBNeUhvbWVcbiAgICAvLyBjOGE5NGY0Mi0zY2Q1LTQ4M2EtOGFkYy05NzQ3MzE5N2I4YjRcblxuICAgIHZhciB3aGVuX3JlYWR5O1xuICAgIHZhciBub3RfcmVhZHlfY291bnQgPSAwO1xuXG4gICAgQkxFLmJpbmRCZWFjb25TZXJ2aWNlKCk7XG5cbiAgICB3aGVuX3JlYWR5ID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFCTEUuaXNSZWFkeSgpKVxuICAgICAge1xuICAgICAgICBjb25zb2xlLmxvZyhcIm5vdF9yZWFkeV9jb3VudD1cIiwgbm90X3JlYWR5X2NvdW50KTtcbiAgICAgICAgY29uc29sZS5sb2coXCJCTEUgTm90IHJlYWR5XCIpO1xuICAgICAgICBub3RfcmVhZHlfY291bnQrKztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBUaS5BUEkuaW5mbyhcIlRyeVwiLCBub3RfcmVhZHlfY291bnQsIFwidGltZSwgXCIsIFwiT2theSEgTW9kdWxlIGlzIHJlYWR5IVwiKTtcblxuICAgICAgLy8gY29uc29sZS5sb2coXCJjaGVja0F2YWlsYWJpbGl0eT1cIiwgQkxFLmNoZWNrQXZhaWxhYmlsaXR5KCkpO1xuICAgICAgaWYgKCFCTEUuY2hlY2tBdmFpbGFiaWxpdHkoKSlcbiAgICAgIHtcbiAgICAgICAgYWxlcnQoXCJJdCdzIG5vdCBzdXBwb3J0IGluIHlvdXIgZGV2aWNlIVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBCTEUuc2V0QmFja2dyb3VuZE1vZGUoZmFsc2UpO1xuICAgICAgQkxFLnNldFNjYW5QZXJpb2RzKHtcbiAgICAgICAgZm9yZWdyb3VuZFNjYW5QZXJpb2Q6IDUwMDAsXG4gICAgICAgIGZvcmVncm91bmRCZXR3ZWVuU2NhblBlcmlvZDogMjAwLFxuICAgICAgICBiYWNrZ3JvdW5kU2NhblBlcmlvZDogNTAwMCxcbiAgICAgICAgYmFja2dyb3VuZEJldHdlZW5TY2FuUGVyaW9kOiAyMDAgfSk7XG5cblxuICAgICAgQkxFLnN0YXJ0TW9uaXRvcmluZ0ZvclJlZ2lvbih7XG4gICAgICAgIGlkZW50aWZpZXI6IGJlYWNvbklkZW50aWZpZXIsXG4gICAgICAgIHV1aWQ6IGJlYWNvblVVSUQgfSk7XG5cblxuICAgICAgY2xlYXJJbnRlcnZhbCh3aGVuX3JlYWR5KTtcbiAgICAgIHdoZW5fcmVhZHkgPSBudWxsO1xuICAgIH0sIDEwMDApO1xuXG4gICAgdmFyIG1vbml0O1xuXG4gICAgbW9uaXQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAvLyB2YXIgaXNGb3JlZ3JvdW5kID0gYW5kcm9pZFBsYXRmb3JtVG9vbHMuaXNJbkZvcmVncm91bmQoKTtcbiAgICAgIGlmICghaXNGb3JlZ3JvdW5kKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXBwIGluIGJhY2tncm91bmQuIFN0b3Agc2Nhbi5cIik7XG4gICAgICAgIEJMRS5zdG9wU2NhbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBlbmQgYW5kcm9pZFxuICB9XG59XG5cbmZ1bmN0aW9uIGJlYWNvblN0b3BTY2FuKCkge1xuICByZXNldFN0YXRlQmVhY29uKCk7XG4gIGlmIChPU19JT1MpIHtcbiAgICBtYW5hZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgXCJkaWRDaGFuZ2VBdXRob3JpemF0aW9uXCIsXG4gICAgaW9zRGlkQ2hhbmdlQXV0aG9yaXphdGlvbik7XG5cbiAgICBtYW5hZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkaWRSYW5nZUJlYWNvbnNcIiwgaW9zRGlkUmFuZ2VCZWFjb25zKTtcbiAgfSBlbHNlIHtcbiAgICBCTEUuc3RvcE1vbml0b3JpbmdBbGxSZWdpb25zKCk7XG4gICAgQkxFLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbnRlcmVkUmVnaW9uXCIsIGFuZHJvaWRFbnRlcmVkKTtcbiAgICBCTEUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImV4aXRlZFJlZ2lvblwiLCBhbmRyb2lkRXhpdGVkKTtcbiAgICBCTEUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlYWNvblByb3hpbWl0eVwiLCBhbmRyb2lkQmVhY29uUHJveGltaXR5Q2FsbGJhY2spO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1dEFwaShtYWpvciwgbWlub3IpIHtcbiAgdmFyIHhociA9IFRpLk5ldHdvcmsuY3JlYXRlSFRUUENsaWVudCgpO1xuICB4aHIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXR1cyk7XG4gICAgY29uc29sZS5sb2codGhpcy5yZXNwb25zZVRleHQpO1xuICB9O1xuICB4aHIub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgY29uc29sZS5sb2codGhpcy5zdGF0dXMpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMucmVzcG9uc2VUZXh0KTtcbiAgfTtcbiAgeGhyLnRpbWVvdXQgPSAxMDAwMDtcbiAgLy8geGhyLm9wZW4oJ1BVVCcsJ2h0dHBzOi8vbW9ycHJvbS1iZWFjb24ubmV4cGllLmlvJyk7XG4gIHhoci5vcGVuKCdQVVQnLCAnaHR0cHM6Ly9iZWFjb24tdHJhY2suaW5ldC5jby50aCcpO1xuICB4aHIuc2V0UmVxdWVzdEhlYWRlcignWC1BUEktS0VZJywgJ1J2Qm1sbDlvcEVuVlozYUJINnd5Z043VlhLcjdESVl3Jyk7XG4gIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiY29udGVudC10eXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgdmFyIHBhcmFtcyA9IHtcbiAgICB1aWQ6IFRpLkFwcC5Qcm9wZXJ0aWVzLmdldFN0cmluZyhcImluZXRCZWFjb25EYXRhX2NpZFwiKSxcbiAgICBtYWpvcjogbWFqb3IsXG4gICAgbWlub3I6IG1pbm9yIH07XG5cbiAgeGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG59XG5cblxuZnVuY3Rpb24gZ2V0TG9jYXRpb24odGhpc19tYWpvciwgdGhpc19taW5vciwgdGhpc19rZXkpIHtcbiAgdGFnID0gXCJnZXRMb2NhdGlvbjogXCI7XG4gIHZhciB4aHIgPSBUaS5OZXR3b3JrLmNyZWF0ZUhUVFBDbGllbnQoKTtcbiAgLy8gaGFzaF92YWx1ZVxuICB2YXIgbXlfbG9jX2NvZGUgPSBtZDVfaGFzaChgYjFjZjRiN2VjMjAzOjE6JHt0aGlzX21ham9yfToke3RoaXNfbWlub3J9YCk7XG4gIGNvbnNvbGUubG9nKHRhZyArIFwibXlfaGFzaDogXCIgKyBteV9sb2NfY29kZSArIFwiIG1ham9yOlwiICsgdGhpc19tYWpvciArIFwiIG1pbm9yOlwiICsgdGhpc19taW5vcik7XG5cbiAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHJlc19qc29uID0ge307XG4gICAgY29uc29sZS5sb2codGFnLCB0aGlzLnN0YXR1cyk7XG4gICAgY29uc29sZS5sb2codGFnLCB0aGlzLnJlc3BvbnNlVGV4dCk7XG4gICAgYWxlcnQodGFnICsgdGhpcy5yZXNwb25zZVRleHQpO1xuICAgIHJlc19qc29uID0gSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCk7XG4gICAgZ2xvYmFsX2JlYWNvbnNbdGhpc19rZXldW1wiaXNSZWdpdGVyZWRcIl0gPSB0cnVlO1xuICAgIGlmIChcInNpdGVfbmFtZVwiIGluIHJlc19qc29uKVxuICAgIHtcbiAgICAgIGdsb2JhbF9iZWFjb25zW3RoaXNfa2V5XVtcImxvY2F0aW9uXCJdID0gcmVzX2pzb25bXCJzaXRlX25hbWVcIl07XG4gICAgfSBlbHNlXG5cbiAgICB7XG4gICAgICBnbG9iYWxfYmVhY29uc1t0aGlzX2tleV1bXCJsb2NhdGlvblwiXSA9IFwiLVwiO1xuICAgIH1cbiAgICBpZiAoXCJsb2NhdGlvbl9uYW1lXCIgaW4gcmVzX2pzb24pXG4gICAge1xuICAgICAgZ2xvYmFsX2JlYWNvbnNbdGhpc19rZXldW1wibG9jYXRpb25cIl0gPSBnbG9iYWxfYmVhY29uc1t0aGlzX2tleV1bXCJsb2NhdGlvblwiXSArIFwiIFwiICsgcmVzX2pzb25bdGhpc19rZXldW1wibG9jYXRpb25fbmFtZVwiXTtcbiAgICB9XG4gIH07XG4gIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICBjb25zb2xlLmxvZyh0YWcsIHRoaXMuc3RhdHVzKTtcbiAgICBjb25zb2xlLmxvZyh0YWcsIHRoaXMucmVzcG9uc2VUZXh0KTtcbiAgICBpZiAodGhpcy5zdGF0dXMgPSA0MDQpXG4gICAge1xuICAgICAgZ2xvYmFsX2JlYWNvbnNbdGhpc19rZXldW1wibG9jYXRpb25cIl0gPSBcIuC5hOC4oeC5iOC4nuC4muC4leC4s+C5geC4q+C4meC5iOC4h+C5g+C4meC4o+C4sOC4muC4mlwiO1xuICAgIH0gZWxzZVxuXG4gICAge1xuICAgICAgZ2xvYmFsX2JlYWNvbnNbdGhpc19rZXldW1wibG9jYXRpb25cIl0gPSBcIuC4geC4o+C4uOC4k+C4suC4peC4reC4h+C5g+C4q+C4oeC5iFwiO1xuICAgIH1cbiAgfTtcbiAgeGhyLnRpbWVvdXQgPSAxMDAwMDtcbiAgeGhyLm9wZW4oJ0dFVCcsICdodHRwczovL2JlYWNvbi10cmFjay5pbmV0LmNvLnRoL2JlYWNvbmluZm8/Y29kZT0nICsgbXlfbG9jX2NvZGUpO1xuICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcImNvbnRlbnQtdHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gIHhoci5zZW5kKCk7XG59XG5cbmZ1bmN0aW9uIGdldExvY2F0aW9uTGlzdCgpXG57XG4gIHJldHVybiBnbG9iYWxfYmVhY29ucztcbn1cblxuZnVuY3Rpb24gQkxFU2NhbigpIHtcbiAgaWYgKE9TX0lPUylcbiAge1xuICAgIGNvbnNvbGUubG9nKFwiSU9TXCIpO1xuICB9IGVsc2VcblxuICB7XG4gICAgY29uc29sZS5sb2coXCJBbmRyb2lkXCIpO1xuICAgIGlmIChjZW50cmFsTWFuYWdlci5pc1NjYW5uaW5nKCkpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQWxyZWFkeSBzY2FubmluZywgcGxlYXNlIHN0b3Agc2NhbiBmaXJzdCFcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGdhdHRfaGFuZGxlO1xuICAgIGdhdHRfaGFuZGxlID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChjZW50cmFsTWFuYWdlci5kaWRVcGRhdGVTdGF0ZSAhPSBCTEUuTUFOQUdFUl9TVEFURV9QT1dFUkVEX09OKVxuICAgICAge1xuICAgICAgICBjb25zb2xlLmxvZyhcImRpZFN0YXRlPVwiLCBjZW50cmFsTWFuYWdlci5kaWRVcGRhdGVTdGF0ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChjZW50cmFsTWFuYWdlci5nZXRTdGF0ZSgpICE9IEJMRS5NQU5BR0VSX1NUQVRFX1BPV0VSRURfT04pXG4gICAgICB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQkxFIG1hbmFnZXIgbmVlZHMgdG8gYmUgcG93ZXJlZCBvbiBiZWZvcmUuIENhbGwgaW5pdGlhbGl6ZSgpLlwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coXCJCTEUuTUFOQUdFUl9TVEFURV9QT1dFUkVEX09OXCIpO1xuICAgICAgLy8gU3RhcnQgU2NhblxuICAgICAgY2VudHJhbE1hbmFnZXIuc3RhcnRTY2FuKCk7XG4gICAgICBjb25zb2xlLmxvZyhcIlN0YXJ0IEJMRVwiKTtcbiAgICAgIGNsZWFySW50ZXJ2YWwoZ2F0dF9oYW5kbGUpO1xuICAgICAgZ2F0dF9oYW5kbGUgPSBudWxsO1xuICAgIH0sIDEwMDApO1xuICB9XG59XG5cbnZhciBnYXR0RGlkRGlzY292ZXIgPSBmdW5jdGlvbiAoZSkge1xuICBUaS5BUEkuaW5mbygnZGlkRGlzY292ZXJQZXJpcGhlcmFsJyk7XG4gIFRpLkFQSS5pbmZvKGUucGVyaXBoZXJhbC51dWlkcy51dWlkLCBcIkFkZHJlc3M6XCIsIGUucGVyaXBoZXJhbC5hZGRyZXNzLCBlLnBlcmlwaGVyYWwubmFtZSk7XG4gIC8vIFRpLkFQSS5pbmZvKGUucGVyaXBoZXJhbC5zZXJ2aWNlcyk7XG4gIC8vIF8uZWFjaChlLnBlcmlwaGVyYWwudXVpZHMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgLy8gICBjb25zb2xlLmxvZyhlLnBlcmlwaGVyYWwubmFtZSwgXCI6XCIsIGUucGVyaXBoZXJhbC5hZGRyZXNzLCBcInV1aWQ6XCIsIGUucGVyaXBoZXJhbC51dWlkcy51dWlkKTtcbiAgLy8gfSk7XG4gIC8vIFRpLkFQSS5pbmZvKGRpc2NvdmVyU2VydmljZXMoKSk7XG59O1xuXG5jZW50cmFsTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFwiZGlkRGlzY292ZXJQZXJpcGhlcmFsXCIsIGdhdHREaWREaXNjb3Zlcik7XG5cbmZ1bmN0aW9uIHN0b3BCTEUoKSB7XG4gIGlmIChjZW50cmFsTWFuYWdlci5pc1NjYW5uaW5nKSB7XG4gICAgY29uc29sZS5sb2coXCJTdG9wIEJMRVwiKTtcbiAgICBjZW50cmFsTWFuYWdlci5zdG9wU2NhbigpO1xuICB9IGVsc2VcbiAge1xuICAgIGNvbnNvbGUubG9nKFwiTm8gc2NhbiBzZXNzaW9uIVwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtZDVfaGFzaChoYXNoX3NlZWQpIHtcbiAgdmFyIHRhZyA9IFwibWQ1X2hhc2hcIjtcbiAgdmFyIG15X21kNSA9IFRpLlV0aWxzLm1kNUhleERpZ2VzdChoYXNoX3NlZWQpO1xuICBhbGVydCh0YWcgKyBcIjogXCIgKyBteV9tZDUpO1xuICByZXR1cm4gbXlfbWQ1O1xufVxuXG5leHBvcnRzLmJlYWNvblN0YXJ0U2NhbiA9IGJlYWNvblN0YXJ0U2NhbjtcbmV4cG9ydHMuYmVhY29uU3RvcFNjYW4gPSBiZWFjb25TdG9wU2NhbjtcbmV4cG9ydHMucHV0QXBpID0gcHV0QXBpO1xuZXhwb3J0cy5CTEVTY2FuID0gQkxFU2NhbjtcbmV4cG9ydHMuc3RvcEJMRSA9IHN0b3BCTEU7XG5leHBvcnRzLm1kNV9oYXNoID0gbWQ1X2hhc2g7XG5leHBvcnRzLmdldExvY2F0aW9uTGlzdCA9IGdldExvY2F0aW9uTGlzdDsiXSwic291cmNlUm9vdCI6ImQ6XFxHSUFOVFxcd3cyXFxiYy1kZWJ1Z1xcaW5ldHRpYmVhY29uIn0=
